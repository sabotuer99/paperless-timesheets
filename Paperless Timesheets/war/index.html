<html lang="en">
<head data-co-app="45" data-co-ubid="b0d28374647d7fe04de539944b06f06b">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../../favicon.ico">

<title>Starter Template for Bootstrap</title>

<!-- Bootstrap core CSS -->
<link href="/assets/css/bootstrap.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="/assets/css/bootstrap-theme.css" rel="stylesheet">
<link href="/assets/css/Paperless.css" rel="stylesheet">

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Paperless Timecard</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">My Timecard</a></li>
					<li><a href="#reports">My Reports</a></li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</nav>

	<div class="container">

		<div class="starter-template">
			<h1>My Timecard</h1>
			<hr/>
			<button id="google" title="Get timecard using your Google account" class="btn btn-primary">Refresh Timecard</button>
		</div>
		<div class="table-responsive">
			<label id="username" for="timecard"></label>
			<table id="timecard" class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<td>Date</td>
						<td>Work Hours</td>
						<td>Annual</td>
						<td>Sick</td>
						<td>Other Leave</td>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
		

	</div>
	<!-- /.container -->


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="/assets/js/jquery-1.11.2.js"></script>
	<script src="/assets/js/bootstrap.js"></script>
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->

	<script src="/assets/js/oauth.js"></script>
	<script>
		function googleLogin() {
			OAuth.initialize('nW-uwfmcz6AMr4uIJEIuBFcvxyA');
			OAuth
					.popup('google')
					.done(
							function(result) {
								console.log(result);

								var protocol = window.location.hostname == "localhost" ? "http:"
										: "https:";
								var url = protocol
										+ "//"
										+ window.location.host
										+ "/_ah/api/paperless/v1/dummyTimecard/"
										+ result.access_token + "/1/2015";

								$.ajax({
									type : "POST",
									url : url,
									success : success,
									dataType : "text"
								});
							});

			function success(d) {
				d = JSON.parse(d);
				window.d = d;
				console.log(d);

				$("#username").text("Timecard for " + d.user);
				var tableBody = $("#timecard tbody");
				tableBody.html("");
				d.days.forEach(function(day) {
					var rowHtml = "<tr><td>" + new Date(day.date).toDateString() + "</td>" + "<td>"
							+ day.workHours + "</td>" + "<td>" + day.annual
							+ "</td>" + "<td>" + day.sick + "</td>" + "<td>"
							+ day.otherLeave + "</td></tr>";

					tableBody.append(rowHtml)
				});

			}
			;
		}

		$('#google').click(googleLogin);
	</script>

	<div
		style="display: none; color: white; text-align: center; position: fixed; top: 0px; left: 0px; width: 100%; height: auto; min-width: 100%; max-width: 100%; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: 'Helvetica Neue', Helvetica, Arial, Geneva, sans-serif; cursor: pointer; padding: 5px; background-color: rgb(255, 143, 0);">
		<span
			style="color: white; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: 'Helvetica Neue', Helvetica, Arial, Geneva, sans-serif;">You
			have turned off the paragraph player. You can turn it on again from
			the options page.</span><img
			src="chrome-extension://gfjopfpjmkcfgjpogepmdjmcnihfpokn/img/icons/icon-close_16.png"
			style="width: 20px; height: auto; min-width: 20px; max-width: 20px; float: right; margin-right: 10px;">
	</div>
</body>
</html>